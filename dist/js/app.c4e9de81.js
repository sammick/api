(function(e){function t(t){for(var r,a,u=t[0],s=t[1],i=t[2],d=0,f=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);b&&b(t);while(f.length)f.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o={app:0},c=[];function u(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"478af161"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={about:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"cb4e9b7d"}[e]+".css",o=s.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var i=c[u],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===r||d===o))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){i=f[u],d=i.getAttribute("data-href");if(d===r||d===o)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var r=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[e],b.parentNode.removeChild(b),n(c)},b.href=o;var l=document.getElementsByTagName("head")[0];l.appendChild(b)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=c);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=u(e);var f=new Error;i=function(t){d.onerror=d.onload=null,clearTimeout(b);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var b=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var f=0;f<i.length;f++)t(i[f]);var b=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"08f2":function(e,t,n){"use strict";n("d93b")},"4ed2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=(n("b64b"),Object(r["K"])("data-v-624d2d07"));Object(r["v"])("data-v-624d2d07");var o={class:"container main-body"},c={id:"nav",class:"text-center"},u=Object(r["g"])("Home"),s=Object(r["g"])(" | "),i={key:0},d=Object(r["g"])("Login"),f=Object(r["g"])(" | "),b=Object(r["g"])("profile"),l=Object(r["g"])(" | "),p=Object(r["g"])("Posts"),m=Object(r["g"])(" | "),h=Object(r["g"])("Accounts"),g=Object(r["g"])(" | "),v={class:"border boder-mute"},j={class:"border boder-mute"},O={class:"border boder-mute"};Object(r["t"])();var w=a((function(e,t,n,w,k,_){var y=Object(r["A"])("Header"),E=Object(r["A"])("router-link"),C=Object(r["A"])("router-view"),R=Object(r["A"])("Footer");return Object(r["s"])(),Object(r["d"])("div",o,[Object(r["h"])(y,{users:w.store.state.users},null,8,["users"]),Object(r["h"])("div",c,[Object(r["h"])(E,{to:"/"},{default:a((function(){return[u]})),_:1}),s,w.store.state.user?Object(r["e"])("",!0):(Object(r["s"])(),Object(r["d"])("span",i,[Object(r["h"])(E,{to:"/login"},{default:a((function(){return[d]})),_:1}),f])),Object(r["h"])(E,{to:"/profile"},{default:a((function(){return[b]})),_:1}),l,Object(r["h"])(E,{to:"/posts"},{default:a((function(){return[p]})),_:1}),m,Object(r["h"])(E,{to:"/accounts"},{default:a((function(){return[h]})),_:1}),g]),Object(r["h"])(C),Object(r["h"])("p",v,Object(r["C"])(w.store.state.user),1),Object(r["h"])("p",j,Object(r["C"])(w.store.state.users)+" : "+Object(r["C"])(Object.keys(w.store.state.userdata).length),1),Object(r["h"])("p",O,[Object(r["h"])("pre",null,Object(r["C"])(w.store.state.userdata.accounts),1)]),Object(r["h"])(R)])})),k=n("1da1"),_=(n("96cf"),n("5502")),y={class:"nl-header border border-mute d-flex justify-content-between mt-4 mb-4 pl-3 pr-3 pt-2 pb-2"},E=Object(r["h"])("div",{class:"left-wrap"}," Menu",-1),C={class:"right-wrap"},R={class:"seleted-account",href:"#"},x={class:"accounts"},S={class:"account-select border border-mute"},A={class:"accounts m-0 p-0"},P=Object(r["h"])("li",{class:"account",id:"123"},null,-1),U=Object(r["h"])("img",{src:"https://mdbcdn.b-cdn.net/img/new/standard/city/047.jpg"},null,-1);function T(e,t,n,a,o,c){return Object(r["s"])(),Object(r["d"])("div",y,[E,Object(r["h"])("div",C,[Object(r["h"])("a",R,[Object(r["h"])("img",{src:a.userdata.profile_pic_url},null,8,["src"]),Object(r["h"])("span",x,Object(r["C"])(a.user),1)]),Object(r["h"])("div",S,[Object(r["h"])("ul",A,[(Object(r["s"])(!0),Object(r["d"])(r["a"],null,Object(r["y"])(a.users,(function(e){return Object(r["s"])(),Object(r["d"])("a",{href:"#",onClick:Object(r["J"])((function(t){return a.SelectIt(e.username)}),["prevent"])},[P,U,Object(r["g"])(Object(r["C"])(e.firstName+" "+e.lastName),1)],8,["onClick"])})),256))])])])])}var N={name:"Header",setup:function(){var e=Object(_["b"])(),t=Object(r["b"])((function(){return e.state.user})),n=Object(r["b"])((function(){return e.state.users})),a=Object(r["b"])((function(){return e.state.userdata}));function o(t){e.dispatch("SELECTUSER",t)}return{user:t,users:n,userdata:a,SelectIt:o}}};n("b460");N.render=T;var M=N,I=Object(r["K"])("data-v-4ae1314b");Object(r["v"])("data-v-4ae1314b");var L=Object(r["f"])('<div class="social-icons" data-v-4ae1314b><a href="mailto:abusufiyan@engineer.com" target="_blank" data-v-4ae1314b><i class="far fa-envelope" data-v-4ae1314b></i></a><a href="https://www.facebook.com/profile.php?id=100016195900365" target="_blank" data-v-4ae1314b><i class="fab fa-facebook" data-v-4ae1314b></i></a><a href="https://www.instagram.com/abusufiyancodes/" target="_blank" data-v-4ae1314b><i class="fab fa-instagram" data-v-4ae1314b></i></a><a href="https://www.instagram.com/yourabusufiyan/" target="_blank" data-v-4ae1314b><i class="fab fa-twitter" data-v-4ae1314b></i></a></div><p data-v-4ae1314b> Made with <span data-v-4ae1314b>‚ù§</span> by <a href="https://www.instagram.com/abusufiyancodes/" target="_blank" data-v-4ae1314b>Abu Sufiyan</a><br data-v-4ae1314b> All Rights Reserved <br data-v-4ae1314b></p>',2);Object(r["t"])();var q=I((function(e,t,n,a,o,c){return Object(r["s"])(),Object(r["d"])("footer",null,[L])})),H={name:"Footer",setup:function(){}};n("08f2");H.render=q,H.__scopeId="data-v-4ae1314b";var D=H,B=n("96af"),F={components:{Header:M,Footer:D},setup:function(){var e=Object(_["b"])(),t=Object(r["b"])((function(){return e.state.users}));function n(t){e.dispatch("SELECTUSER",t)}return Object(r["o"])(Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!B["a"].hasCookie("user")||!B["a"].getCookie("user")){t.next=4;break}return t.next=3,e.dispatch("SELECTUSER",B["a"].getCookie("user"));case 3:console.log("cookig",B["a"].getCookie("user"));case 4:case"end":return t.stop()}}),t)})))),{store:e,users:t,SelectIt:n}}};F.render=w,F.__scopeId="data-v-624d2d07";var K=F,W=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),$=Object(r["K"])("data-v-7ede14d4");Object(r["v"])("data-v-7ede14d4");var J={class:"border boder-mute mb-4 mt-4"},z=Object(r["h"])("h3",{class:"text-center mb-4 mt-4"},"Welcome to Islamic Tamwiil",-1);Object(r["t"])();var G=$((function(e,t,n,a,o,c){return Object(r["s"])(),Object(r["d"])("div",J,[z])})),Q=(n("4de4"),n("d81d"),n("bc3a")),V=n.n(Q),X={name:"Home",setup:function(){var e=Object(_["b"])(),t=Object(r["w"])({homefeed:[],end_cursor:"",hasNextPage:!1,is_adding:!1,is_liking:!1});function n(){t.isloading=!0,V.a.post("/gethomefeed",{username:e.state.user,end_cursor:t.end_cursor}).then((function(n){n=n.data,console.log(n),n.timeline.edges.filter((function(e){return t.homefeed.push(e.node)})),t.homefeed=t.homefeed.map((function(t){return t.hasPost=B["a"].hasThisPost(t,e),t})),t.end_cursor=n.timeline.page_info.end_cursor,t.hasNextPage=n.timeline.page_info.has_next_page,t.isloading=!1}))}function a(){n()}function o(t){t.hasPost||(t.is_adding=!0,console.log(t),V.a.post("/addpost",{post:t,username:e.state.user}).then((function(n){n=n.data,console.log(n),t.is_adding=!1,n.addpost&&e.state.userdata.posts.push(n.addpost)})))}function c(t){var n=t.id;t.is_liking=!0,V.a.post("/postaction",{username:e.state.user,mediaId:n}).then((function(e){e=e.data,console.log(e),"ok"==e.mediaId.status&&(t.viewer_has_liked=!0,t.is_liking=!1)}))}return{state:t,loadMore:a,addthisPost:o,likePost:c}}};n("f010");X.render=G,X.__scopeId="data-v-7ede14d4";var Y=X,Z=[{path:"/",name:"Home",component:Y},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))},meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:function(){return n.e("about").then(n.bind(null,"a55b"))},meta:{requiresNoAuth:!0}},{path:"/profile",name:"Profile",component:function(){return n.e("about").then(n.bind(null,"c66d"))},meta:{requiresAuth:!0}},{path:"/posts",name:"Posts",component:function(){return n.e("about").then(n.bind(null,"17c3"))},meta:{requiresAuth:!0}},{path:"/accounts",name:"Accounts",component:function(){return n.e("about").then(n.bind(null,"5d70"))},meta:{requiresAuth:!0}},{path:"/searchprofile",name:"SearchProfile",component:function(){return n.e("about").then(n.bind(null,"4bff"))},meta:{requiresAuth:!0}}],ee=Object(W["a"])({history:Object(W["b"])(),routes:Z});ee.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?B["a"].hasCookie("user")?(console.log("hascookie"),n()):n({path:"/login"}):e.matched.some((function(e){return e.meta.requiresNoAuth}))?(console.log("cookie.hasCookie('user')",B["a"].hasCookie("user")),B["a"].hasCookie("user")?n({path:"/"}):n()):n()}));var te=ee,ne=n("2ef0"),re=n.n(ne),ae=n("f674"),oe=n.n(ae);re.a.mixin(oe.a);var ce=Object(_["a"])({state:{user:"",users:[],userdata:{}},mutations:{SELECT_USER:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.user=t;case 1:case"end":return n.stop()}}),n)})))()},setUserData:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:re.a.size(e.userdata)<=0&&(null===(r=e.userdata)||void 0===r?void 0:r.username)!=t&&V.a.post("/getuser",{username:t}).then((function(t){e.userdata=t.data})).catch((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()},MSETNEWUSER:function(e,t){return new Promise((function(n){e.user=t.username,t.username=t.user.username,e.users.push(t),e.userdata=t,n(!0)}))},pushNewUser:function(e,t){e.users.push(t)},MUpdateNewAccount:function(e,t){for(var n=!1,r=0;r<e.userdata.accounts.length;r++){var a=e.userdata.accounts[r];if(console.log(+a.id,+a.id==+t.id,+t.id),+a.id==+t.id){e.userdata.accounts[r]=t,n=!0;break}}console.log("isavailable",n),n||e.userdata.accounts.push(t)},MUpdateEditAccount:function(e,t){for(var n=0;n<e.userdata.accounts.length;n++){var r=e.userdata.accounts[n];if(+r.id==+t.id){e.userdata.accounts[n]=t;break}}},Mdopost:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:V.a.post("/dopost",{username:e.user,posts:e.userdata.posts}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})))()},MremoveAccount:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=re.a.removeById(e.userdata.accounts,t),console.log(r),console.log(e.userdata.accounts),V.a.post("/doaccout",{username:e.user,action:"update",accounts:e.userdata.accounts}).then((function(e){console.log(e.data)}));case 4:case"end":return n.stop()}}),n)})))()}},actions:{SELECTUSER:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",new Promise((function(e){r("SELECT_USER",t),r("setUserData",t),r("pushNewUser",t),e(!0)})));case 2:case"end":return n.stop()}}),n)})))()},SETNEWUSER:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,r("MSETNEWUSER",t);case 2:case"end":return n.stop()}}),n)})))()},UpdateNewAccount:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",new Promise((function(e){r("MUpdateNewAccount",t),e(!0)})));case 2:case"end":return n.stop()}}),n)})))()},UpdateEditAccount:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",new Promise((function(e){r("MUpdateEditAccount",t),e(!0)})));case 2:case"end":return n.stop()}}),n)})))()},dopost:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.abrupt("return",new Promise((function(e){n("Mdopost"),e(!0)})));case 2:case"end":return t.stop()}}),t)})))()},removeAccount:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",new Promise((function(e){r("MremoveAccount",t),e(!0)})));case 2:case"end":return n.stop()}}),n)})))()}},getters:{getUserPosts:function(e){return e.userdata.posts}},modules:{}}),ue=n("df85"),se=Object(r["c"])(K);se.use(te),se.use(ce),se.use(ue["a"],{expireTimes:"30d",path:"/",domain:"",secure:!0,sameSite:"None"}),se.mount("#app")},"96af":function(e,t,n){"use strict";var r=n("5530");n("466d"),n("ac1f"),n("4d63"),n("25f0"),n("5319");t["a"]={hasCookie:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return!!t},getCookie:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},setCookie:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object(r["a"])({path:"/",secure:!0,"max-age":864e3},n),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());var a=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var o in n){a+="; "+o;var c=n[o];!0!==c&&(a+="="+c)}document.cookie=a},deleteCookie:function(e){return this.setCookie(e,"",{"max-age":-1}),!0},hasThisPost:function(e,t){return t.state.userdata.posts.some((function(t){return+t.id==+e.id}))}}},b460:function(e,t,n){"use strict";n("e8aa")},d93b:function(e,t,n){},e8aa:function(e,t,n){},f010:function(e,t,n){"use strict";n("4ed2")}});
//# sourceMappingURL=app.c4e9de81.js.map