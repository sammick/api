(function(e){function t(t){for(var r,a,s=t[0],u=t[1],i=t[2],d=0,b=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&b.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(b.length)b.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},o={app:0},c=[];function s(e){return u.p+"js/"+({about:"about"}[e]||e)+"."+{about:"bbd6ce23"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={about:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"d194a77f"}[e]+".css",o=u.p+r,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var i=c[s],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===r||d===o))return t()}var b=document.getElementsByTagName("style");for(s=0;s<b.length;s++){i=b[s],d=i.getAttribute("data-href");if(d===r||d===o)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[e],l.parentNode.removeChild(l),n(c)},l.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(l)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=c);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=s(e);var b=new Error;i=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;b.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",b.name="ChunkLoadError",b.type=r,b.request=a,n[1](b)}o[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var b=0;b<i.length;b++)t(i[b]);var l=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"08f2":function(e,t,n){"use strict";n("d93b")},2405:function(e,t,n){},"53c3":function(e,t,n){"use strict";n("89ba")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=(n("b64b"),Object(r["K"])("data-v-04054db3"));Object(r["v"])("data-v-04054db3");var o={class:"container main-body"},c={id:"nav",class:"text-center"},s=Object(r["g"])("Home"),u=Object(r["g"])(" | "),i={key:0},d=Object(r["g"])("Login"),b=Object(r["g"])(" | "),l=Object(r["g"])("profile"),f=Object(r["g"])(" | "),p=Object(r["g"])("Posts"),h=Object(r["g"])(" | "),m=Object(r["g"])("Accounts"),g=Object(r["g"])(" | "),j={class:"border boder-mute"},O={class:"border boder-mute"},v={class:"border boder-mute"};Object(r["t"])();var w=a((function(e,t,n,w,k,_){var y=Object(r["A"])("Header"),C=Object(r["A"])("router-link"),E=Object(r["A"])("router-view"),R=Object(r["A"])("Footer");return Object(r["s"])(),Object(r["d"])("div",o,[Object(r["h"])(y,{users:w.store.state.users},null,8,["users"]),Object(r["h"])("div",c,[Object(r["h"])(C,{to:"/"},{default:a((function(){return[s]})),_:1}),u,w.store.state.user?Object(r["e"])("",!0):(Object(r["s"])(),Object(r["d"])("span",i,[Object(r["h"])(C,{to:"/login"},{default:a((function(){return[d]})),_:1}),b])),Object(r["h"])(C,{to:"/profile"},{default:a((function(){return[l]})),_:1}),f,Object(r["h"])(C,{to:"/posts"},{default:a((function(){return[p]})),_:1}),h,Object(r["h"])(C,{to:"/accounts"},{default:a((function(){return[m]})),_:1}),g]),Object(r["h"])(E),Object(r["h"])("p",j,Object(r["C"])(w.store.state.user),1),Object(r["h"])("p",O,Object(r["C"])(w.store.state.users)+" : "+Object(r["C"])(Object.keys(w.store.state.userdata).length),1),Object(r["h"])("p",v,[Object(r["h"])("pre",null,Object(r["C"])(w.store.state.userdata),1)]),Object(r["h"])(R)])})),k=n("1da1"),_=(n("96cf"),n("5502")),y={class:"nl-header border border-mute d-flex justify-content-between mt-4 mb-4 pl-3 pr-3 pt-2 pb-2"},C=Object(r["h"])("div",{class:"left-wrap"}," Menu",-1),E={class:"right-wrap"},R={class:"seleted-account",href:"#"},x=Object(r["h"])("img",{src:"https://mdbcdn.b-cdn.net/img/new/standard/city/047.jpg"},null,-1),S={class:"accounts"},A={class:"account-select border border-mute"},P={class:"accounts m-0 p-0"},U=Object(r["h"])("li",{class:"account",id:"123"},null,-1),N=Object(r["h"])("img",{src:"https://mdbcdn.b-cdn.net/img/new/standard/city/047.jpg"},null,-1);function T(e,t,n,a,o,c){return Object(r["s"])(),Object(r["d"])("div",y,[C,Object(r["h"])("div",E,[Object(r["h"])("a",R,[x,Object(r["h"])("span",S,Object(r["C"])(a.user),1)]),Object(r["h"])("div",A,[Object(r["h"])("ul",P,[(Object(r["s"])(!0),Object(r["d"])(r["a"],null,Object(r["y"])(a.users,(function(e){return Object(r["s"])(),Object(r["d"])("a",{href:"#",onClick:Object(r["J"])((function(t){return a.SelectIt(e.username)}),["prevent"])},[U,N,Object(r["g"])(Object(r["C"])(e.firstName+" "+e.lastName),1)],8,["onClick"])})),256))])])])])}var M={name:"Header",setup:function(){var e=Object(_["b"])(),t=Object(r["b"])((function(){return e.state.user})),n=Object(r["b"])((function(){return e.state.users})),a=Object(r["b"])((function(){return e.state.userdata}));function o(t){e.dispatch("SELECTUSER",t)}return{user:t,users:n,userdata:a,SelectIt:o}}};n("f99d");M.render=T;var L=M,I=Object(r["K"])("data-v-4ae1314b");Object(r["v"])("data-v-4ae1314b");var q=Object(r["f"])('<div class="social-icons" data-v-4ae1314b><a href="mailto:abusufiyan@engineer.com" target="_blank" data-v-4ae1314b><i class="far fa-envelope" data-v-4ae1314b></i></a><a href="https://www.facebook.com/profile.php?id=100016195900365" target="_blank" data-v-4ae1314b><i class="fab fa-facebook" data-v-4ae1314b></i></a><a href="https://www.instagram.com/abusufiyancodes/" target="_blank" data-v-4ae1314b><i class="fab fa-instagram" data-v-4ae1314b></i></a><a href="https://www.instagram.com/yourabusufiyan/" target="_blank" data-v-4ae1314b><i class="fab fa-twitter" data-v-4ae1314b></i></a></div><p data-v-4ae1314b> Made with <span data-v-4ae1314b>‚ù§</span> by <a href="https://www.instagram.com/abusufiyancodes/" target="_blank" data-v-4ae1314b>Abu Sufiyan</a><br data-v-4ae1314b> All Rights Reserved <br data-v-4ae1314b></p>',2);Object(r["t"])();var H=I((function(e,t,n,a,o,c){return Object(r["s"])(),Object(r["d"])("footer",null,[q])})),D={name:"Footer",setup:function(){}};n("08f2");D.render=H,D.__scopeId="data-v-4ae1314b";var B=D,F=n("96af"),K={components:{Header:L,Footer:B},setup:function(){var e=Object(_["b"])(),t=Object(r["b"])((function(){return e.state.users}));function n(t){e.dispatch("SELECTUSER",t)}return Object(r["o"])(Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!F["a"].hasCookie("user")||!F["a"].getCookie("user")){t.next=4;break}return t.next=3,e.dispatch("SELECTUSER",F["a"].getCookie("user"));case 3:console.log("cookig",F["a"].getCookie("user"));case 4:case"end":return t.stop()}}),t)})))),{store:e,users:t,SelectIt:n}}};K.render=w,K.__scopeId="data-v-04054db3";var $=K,J=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),W=Object(r["K"])("data-v-22c7dd9e");Object(r["v"])("data-v-22c7dd9e");var G={class:"feed-items mt-4"},z={class:"details d-flex justify-content-between p-1 mb-2"},V={class:"left-bar"},Y=Object(r["h"])("div",{class:"right-bar"},null,-1),Q={class:"main-content"},X={key:1,controls:""},Z=Object(r["g"])("Your browser does not support the video tag."),ee={class:"action-buttons pt-2 pl-2 mb-1"},te={class:"caption pl-2 pr-2 pb-0 m-0"},ne={key:0},re=Object(r["h"])("i",{class:"fas fa-spinner fa-spin mr-1"},null,-1),ae=Object(r["g"])("Loading..."),oe={key:1};Object(r["t"])();var ce=W((function(e,t,n,a,o,c){return Object(r["s"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("pre",null,Object(r["C"])(a.state.homefeed.length),1),Object(r["h"])("div",G,[a.state.homefeed?(Object(r["s"])(!0),Object(r["d"])(r["a"],{key:0},Object(r["y"])(a.state.homefeed,(function(e){return Object(r["s"])(),Object(r["d"])("div",{class:"conainter feed-item mb-0 border-top border-mute",key:e.id},[Object(r["h"])("div",z,[Object(r["h"])("div",V,[Object(r["h"])("img",{src:e.owner.profile_pic_url},null,8,["src"]),Object(r["h"])("span",null,Object(r["C"])(e.owner.username),1)]),Y]),Object(r["h"])("div",Q,["GraphImage"==e.__typename?(Object(r["s"])(),Object(r["d"])("img",{key:0,class:"w-100 h-auto",src:e.display_url},null,8,["src"])):"GraphVideo"==e.__typename?(Object(r["s"])(),Object(r["d"])("video",X,[Object(r["h"])("source",{src:e.video_url,type:"video/mp4"},null,8,["src"]),Z])):Object(r["e"])("",!0)]),Object(r["h"])("div",ee,[Object(r["h"])("i",{class:["far",{"post-liked":e.viewer_has_liked,"fa-spinner fa-spin":e.is_liking,"fa-heart":!e.is_liking}],onClick:function(t){return a.likePost(e)}},null,10,["onClick"]),Object(r["h"])("i",{class:["fas addpost",{"fa-spinner fa-spin":e.is_adding,"fa-plus":!e.is_adding,"adready-added":e.hasPost}],onClick:function(t){return a.addthisPost(e)}},null,10,["onClick"])]),Object(r["h"])("div",te,[Object(r["h"])("pre",null,Object(r["C"])(e.edge_media_to_caption.edges.length?e.edge_media_to_caption.edges[0].node.text:""),1)])])})),128)):Object(r["e"])("",!0)]),Object(r["h"])("button",{class:"btn btn-success m-auto d-block",onClick:t[1]||(t[1]=function(e){return a.loadMore()})},[a.state.isloading?(Object(r["s"])(),Object(r["d"])("span",ne,[re,ae])):(Object(r["s"])(),Object(r["d"])("span",oe,"Load More!"))])],64)})),se=(n("4de4"),n("d81d"),n("bc3a")),ue=n.n(se),ie={name:"Home",setup:function(){var e=Object(_["b"])(),t=Object(r["w"])({homefeed:[],end_cursor:"",hasNextPage:!1,is_adding:!1,is_liking:!1});function n(){t.isloading=!0,ue.a.post("/gethomefeed",{username:e.state.user,end_cursor:t.end_cursor}).then((function(n){n=n.data,console.log(n),n.timeline.edges.filter((function(e){return t.homefeed.push(e.node)})),t.homefeed=t.homefeed.map((function(t){return t.hasPost=F["a"].hasThisPost(t,e),t})),t.end_cursor=n.timeline.page_info.end_cursor,t.hasNextPage=n.timeline.page_info.has_next_page,t.isloading=!1}))}function a(){n()}function o(t){t.hasPost||(t.is_adding=!0,console.log(t),ue.a.post("/addpost",{post:t,username:e.state.user}).then((function(n){n=n.data,console.log(n),t.is_adding=!1,n.addpost&&e.state.userdata.posts.push(n.addpost)})))}function c(t){var n=t.id;t.is_liking=!0,ue.a.post("/postaction",{username:e.state.user,mediaId:n}).then((function(e){e=e.data,console.log(e),"ok"==e.mediaId.status&&(t.viewer_has_liked=!0,t.is_liking=!1)}))}return Object(r["q"])((function(){return n()})),{state:t,loadMore:a,addthisPost:o,likePost:c}}};n("53c3");ie.render=ce,ie.__scopeId="data-v-22c7dd9e";var de=ie,be=[{path:"/",name:"Home",component:de},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))},meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:function(){return n.e("about").then(n.bind(null,"a55b"))},meta:{requiresNoAuth:!0}},{path:"/profile",name:"Profile",component:function(){return n.e("about").then(n.bind(null,"c66d"))},meta:{requiresAuth:!0}},{path:"/posts",name:"Posts",component:function(){return n.e("about").then(n.bind(null,"17c3"))},meta:{requiresAuth:!0}},{path:"/accounts",name:"Accounts",component:function(){return n.e("about").then(n.bind(null,"5d70"))},meta:{requiresAuth:!0}},{path:"/searchprofile",name:"SearchProfile",component:function(){return n.e("about").then(n.bind(null,"4bff"))},meta:{requiresAuth:!0}}],le=Object(J["a"])({history:Object(J["b"])(),routes:be});le.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?F["a"].hasCookie("user")?(console.log("hascookie"),n()):n({path:"/login"}):e.matched.some((function(e){return e.meta.requiresNoAuth}))?(console.log("cookie.hasCookie('user')",F["a"].hasCookie("user")),F["a"].hasCookie("user")?n({path:"/"}):n()):n()}));var fe=le,pe=n("2ef0"),he=n.n(pe),me=n("f674"),ge=n.n(me);he.a.mixin(ge.a);var je=Object(_["a"])({state:{user:"",users:[],userdata:{}},mutations:{SELECT_USER:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.user=t;case 1:case"end":return n.stop()}}),n)})))()},setUserData:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:he.a.size(e.userdata)<=0&&(null===(r=e.userdata)||void 0===r?void 0:r.username)!=t&&ue.a.post("/getuser",{username:t}).then((function(t){e.userdata=t.data})).catch((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()},MSETNEWUSER:function(e,t){return new Promise((function(n){e.user=t.username,t.username=t.user.username,e.users.push(t),e.userdata=t,n(!0)}))},pushNewUser:function(e,t){e.users.push(t)},MUpdateNewAccount:function(e,t){for(var n=!1,r=0;r<e.userdata.accounts.length;r++){var a=e.userdata.accounts[r];if(console.log(+a.id,+a.id==+t.id,+t.id),+a.id==+t.id){e.userdata.accounts[r]=t,n=!0;break}}console.log("isavailable",n),n||e.userdata.accounts.push(t)},MUpdateEditAccount:function(e,t){for(var n=0;n<e.userdata.accounts.length;n++){var r=e.userdata.accounts[n];if(+r.id==+t.id){e.userdata.accounts[n]=t;break}}},Mdopost:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:ue.a.post("/dopost",{username:e.user,posts:e.userdata.posts}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})))()},MremoveAccount:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:he.a.removeById(e.userdata.accounts,t),console.log(e.userdata.accounts),ue.a.post("/doaccout",{username:e.user,action:"update",accounts:e.userdata.accounts}).then((function(e){console.log(e.data)}));case 3:case"end":return n.stop()}}),n)})))()}},actions:{SELECTUSER:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",new Promise((function(e){r("SELECT_USER",t),r("setUserData",t),r("pushNewUser",t),e(!0)})));case 2:case"end":return n.stop()}}),n)})))()},SETNEWUSER:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,r("MSETNEWUSER",t);case 2:case"end":return n.stop()}}),n)})))()},UpdateNewAccount:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",new Promise((function(e){r("MUpdateNewAccount",t),e(!0)})));case 2:case"end":return n.stop()}}),n)})))()},UpdateEditAccount:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",new Promise((function(e){r("MUpdateEditAccount",t),e(!0)})));case 2:case"end":return n.stop()}}),n)})))()},dopost:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.abrupt("return",new Promise((function(e){n("Mdopost"),e(!0)})));case 2:case"end":return t.stop()}}),t)})))()},removeAccount:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",new Promise((function(e){r("MremoveAccount",t),e(!0)})));case 2:case"end":return n.stop()}}),n)})))()}},getters:{getUserPosts:function(e){return e.userdata.posts}},modules:{}}),Oe=n("136a"),ve=n("df85"),we=Object(r["c"])($);we.use(fe),we.use(je),we.use(ve["a"],{expireTimes:"30d",path:"/",domain:"",secure:!0,sameSite:"None"}),we.use(Oe),we.mount("#app")},"89ba":function(e,t,n){},"96af":function(e,t,n){"use strict";var r=n("5530");n("466d"),n("ac1f"),n("4d63"),n("25f0"),n("5319");t["a"]={hasCookie:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return!!t},getCookie:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},setCookie:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object(r["a"])({path:"/",secure:!0,"max-age":864e3},n),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());var a=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var o in n){a+="; "+o;var c=n[o];!0!==c&&(a+="="+c)}document.cookie=a},deleteCookie:function(e){return this.setCookie(e,"",{"max-age":-1}),!0},hasThisPost:function(e,t){return t.state.userdata.posts.some((function(t){return+t.id==+e.id}))}}},d93b:function(e,t,n){},f99d:function(e,t,n){"use strict";n("2405")}});
//# sourceMappingURL=app.9078b7a9.js.map